{"ast":null,"code":"import { __rest, __assign } from '../../node_modules/tslib/tslib.es6.js';\nimport React, { createContext, forwardRef, useId, useRef, useContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from '../../_virtual/index.js';\nimport { CAccordionContext } from './CAccordion.js';\nvar CAccordionItemContext = createContext({});\nvar CAccordionItem = forwardRef(function (_a, ref) {\n  var children = _a.children,\n    className = _a.className,\n    id = _a.id,\n    itemKey = _a.itemKey,\n    rest = __rest(_a, [\"children\", \"className\", \"id\", \"itemKey\"]);\n  var _id = id !== null && id !== undefined ? id : useId();\n  var _itemKey = useRef(itemKey !== null && itemKey !== undefined ? itemKey : _id);\n  var _b = useContext(CAccordionContext),\n    _activeItemKey = _b._activeItemKey,\n    alwaysOpen = _b.alwaysOpen,\n    setActiveKey = _b.setActiveKey;\n  var _c = useState(Boolean(_activeItemKey === _itemKey.current)),\n    visible = _c[0],\n    setVisible = _c[1];\n  useEffect(function () {\n    if (!alwaysOpen && visible) {\n      setActiveKey(_itemKey.current);\n    }\n  }, [visible]);\n  useEffect(function () {\n    setVisible(Boolean(_activeItemKey === _itemKey.current));\n  }, [_activeItemKey]);\n  return React.createElement(\"div\", __assign({\n    className: classNames('accordion-item', className)\n  }, rest, {\n    ref: ref\n  }), React.createElement(CAccordionItemContext.Provider, {\n    value: {\n      id: _id,\n      setVisible: setVisible,\n      visible: visible\n    }\n  }, children));\n});\nCAccordionItem.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  itemKey: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n};\nCAccordionItem.displayName = 'CAccordionItem';\nexport { CAccordionItem, CAccordionItemContext };","map":{"version":3,"names":["CAccordionItemContext","createContext","CAccordionItem","forwardRef","_a","ref","children","className","id","itemKey","rest","__rest","_id","undefined","useId","_itemKey","useRef","_b","useContext","CAccordionContext","_activeItemKey","alwaysOpen","setActiveKey","_c","useState","Boolean","current","visible","setVisible","useEffect","React","createElement","__assign","classNames","Provider","value","propTypes","PropTypes","node","string","oneOfType","number","displayName"],"sources":["C:\\Users\\nqminh7\\Downloads\\Hoanthien\\E_Learning\\node_modules\\@coreui\\react\\src\\components\\accordion\\CAccordionItem.tsx"],"sourcesContent":["import React, {\n  createContext,\n  forwardRef,\n  HTMLAttributes,\n  useContext,\n  useEffect,\n  useId,\n  useRef,\n  useState,\n} from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\nimport { CAccordionContext } from './CAccordion'\n\nexport interface CAccordionItemContextProps {\n  id: string\n  setVisible: (a: boolean) => void\n  visible?: boolean\n}\n\nexport const CAccordionItemContext = createContext({} as CAccordionItemContextProps)\n\nexport interface CAccordionItemProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * The id global attribute defines an identifier (ID) that must be unique in the whole document.\n   */\n  id?: string\n  /**\n   * A string of all className you want applied to the base component.\n   */\n  className?: string\n  /**\n   * Item key.\n   */\n  itemKey?: number | string\n}\n\nexport const CAccordionItem = forwardRef<HTMLDivElement, CAccordionItemProps>(\n  ({ children, className, id, itemKey, ...rest }, ref) => {\n    const _id = id ?? useId()\n    const _itemKey = useRef(itemKey ?? _id)\n\n    const { _activeItemKey, alwaysOpen, setActiveKey } = useContext(CAccordionContext)\n    const [visible, setVisible] = useState(Boolean(_activeItemKey === _itemKey.current))\n\n    useEffect(() => {\n      if (!alwaysOpen && visible) {\n        setActiveKey(_itemKey.current)\n      }\n    }, [visible])\n\n    useEffect(() => {\n      setVisible(Boolean(_activeItemKey === _itemKey.current))\n    }, [_activeItemKey])\n\n    return (\n      <div className={classNames('accordion-item', className)} {...rest} ref={ref}>\n        <CAccordionItemContext.Provider value={{ id: _id, setVisible, visible }}>\n          {children}\n        </CAccordionItemContext.Provider>\n      </div>\n    )\n  }\n)\n\nCAccordionItem.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  itemKey: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n}\n\nCAccordionItem.displayName = 'CAccordionItem'\n"],"mappings":";;;;;IAqBaA,qBAAqB,GAAGC,aAAa,CAAC,EAAgC;IAiBtEC,cAAc,GAAGC,UAAU,CACtC,UAACC,EAA6C,EAAEC,GAAG;EAAhD,IAAAC,QAAQ,GAAAF,EAAA,CAAAE,QAAA;IAAEC,SAAS,GAAAH,EAAA,CAAAG,SAAA;IAAEC,EAAE,GAAAJ,EAAA,CAAAI,EAAA;IAAEC,OAAO,GAAAL,EAAA,CAAAK,OAAA;IAAKC,IAAI,GAAAC,MAAA,CAAAP,EAAA,EAA3C,0CAA6C,CAAF;EAC1C,IAAMQ,GAAG,GAAGJ,EAAE,KAAF,QAAAA,EAAE,KAAAK,SAAA,GAAFL,EAAE,GAAIM,KAAK,EAAE;EACzB,IAAMC,QAAQ,GAAGC,MAAM,CAACP,OAAO,aAAPA,OAAO,KAAAI,SAAA,GAAPJ,OAAO,GAAIG,GAAG,CAAC;EAEjC,IAAAK,EAA+C,GAAAC,UAAU,CAACC,iBAAiB,CAAC;IAA1EC,cAAc,GAAAH,EAAA,CAAAG,cAAA;IAAEC,UAAU,GAAAJ,EAAA,CAAAI,UAAA;IAAEC,YAAY,GAAAL,EAAA,CAAAK,YAAkC;EAC5E,IAAAC,EAAA,GAAwBC,QAAQ,CAACC,OAAO,CAACL,cAAc,KAAKL,QAAQ,CAACW,OAAO,CAAC,CAAC;IAA7EC,OAAO,GAAAJ,EAAA;IAAEK,UAAU,GAAAL,EAAA,GAA0D;EAEpFM,SAAS,CAAC;IACR,IAAI,CAACR,UAAU,IAAIM,OAAO,EAAE;MAC1BL,YAAY,CAACP,QAAQ,CAACW,OAAO,CAAC;;EAElC,CAAC,EAAE,CAACC,OAAO,CAAC,CAAC;EAEbE,SAAS,CAAC;IACRD,UAAU,CAACH,OAAO,CAACL,cAAc,KAAKL,QAAQ,CAACW,OAAO,CAAC,CAAC;EAC1D,CAAC,EAAE,CAACN,cAAc,CAAC,CAAC;EAEpB,OACEU,KAAA,CAAAC,aAAA,QAAAC,QAAA;IAAKzB,SAAS,EAAE0B,UAAU,CAAC,gBAAgB,EAAE1B,SAAS;EAAC,CAAM,EAAAG,IAAI,EAAE;IAAAL,GAAG,EAAEA;EAAG,IACzEyB,KAAC,CAAAC,aAAA,CAAA/B,qBAAqB,CAACkC,QAAQ;IAACC,KAAK,EAAE;MAAE3B,EAAE,EAAEI,GAAG;MAAEgB,UAAU,EAAAA,UAAA;MAAED,OAAO,EAAAA;IAAA;EAAE,GACpErB,QAAQ,CACsB,CAC7B;AAEV,CAAC;AAGHJ,cAAc,CAACkC,SAAS,GAAG;EACzB9B,QAAQ,EAAE+B,SAAS,CAACC,IAAI;EACxB/B,SAAS,EAAE8B,SAAS,CAACE,MAAM;EAC3B9B,OAAO,EAAE4B,SAAS,CAACG,SAAS,CAAC,CAACH,SAAS,CAACI,MAAM,EAAEJ,SAAS,CAACE,MAAM,CAAC;CAClE;AAEDrC,cAAc,CAACwC,WAAW,GAAG,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}